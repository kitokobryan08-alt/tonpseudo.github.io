<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Architext</title>
<style>
  body {
    font-family: sans-serif;
    margin: 0;
    background: linear-gradient(135deg, #1e3c72, #2a5298);
    color: #fff;
    text-align: center;
  }
  nav ul {
    list-style: none;
    padding: 10px;
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 0;
  }
  nav a {
    color: #fff;
    text-decoration: none;
    font-weight: bold;
  }
  .hero h2 {
    font-size: 2rem;
    margin: 20px 0;
  }
  .hero p {
    margin: 10px 0;
  }
  .btn {
    background: #fff;
    color: #2a5298;
    padding: 10px 20px;
    border-radius: 5px;
    text-decoration: none;
    font-weight: bold;
    display: inline-block;
    margin-top: 10px;
    cursor: pointer;
    border: none;
  }
  section, footer {
    background: #fff;
    color: #333;
    padding: 20px;
    margin-top: 20px;
    max-width: 400px;
 margin-left: auto;
    margin-right: auto;
    border-radius: 8px;
  }
  input, select {
    width: 90%;
    padding: 8px;
    margin: 8px 0;
    border-radius: 4px;
    border: 1px solid #ccc;
  }
  #user-info {
    margin-top: 15px;
    font-weight: bold;
    color: #0a7;
  }
  #error-message {
    color: #d33;
    font-weight: bold;
  }
</style>
</head>
<body>
<header>
  <nav>
    <h1>Architext</h1>
    <ul>
      <li><a href="#">Accueil</a></li>
      <li><a href="#about">À propos</a></li>
      <li><a href="#contact">Contact</a></li>
    </ul>
  </nav>
  <div class="hero">
    <h2>Bienvenue sur Architext</h2>
    <p>Explorez nos réalisations architecturales innovantes et nos solutions sur-mesure.</p>
    <p>Nous plaçons l'excellence, la créativité et l'impact au cœur de chaque projet.</p>
  </div>
</header>

<section id="about">
  <h2>À propos</h2>
  <p>Architext est votre partenaire privilégié pour des projets architecturaux modernes, innovants et personnalisés, alliant esthétisme et performance durable.</p>
</section>

<section id="inscription">
  <h2>Inscription</h2>
  <form id="signup-form">
    <input type="email" id="signup-email" placeholder="Email" required />
    <input type="password" id="signup-password" placeholder="Mot de passe" required minlength="6" />
 <select id="signup-language" required>
      <option value="" disabled selected>Choisissez votre langue</option>
      <option value="fr">Français</option>
      <option value="en">Anglais</option>
      <option value="es">Espagnol</option>
      <option value="ar">Arabe</option>
      <option value="zh">Mandarin</option>
    </select>
    <button type="submit" class="btn">S'inscrire</button>
  </form>
  <p id="signup-message"></p>
</section>

<section id="connexion">
  <h2>Connexion</h2>
  <form id="login-form">
    <input type="email" id="login-email" placeholder="Email" required />
    <input type="password" id="login-password" placeholder="Mot de passe" required />
    <button type="submit" class="btn">Se connecter</button>
  </form>
  <p id="login-message"></p>
</section>

<section id="user-status" style="display:none;">
  <h2>Bienvenue, <span id="user-email"></span></h2>
  <p>Langue préférée : <span id="user-language">Non spécifiée</span></p>
  <button id="logout-btn" class="btn">Se déconnecter</button>
</section>

<footer id="contact">
  <p>&copy; 2025 Architext - Tous droits réservés</p>
</footer>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
[24/08 à 21:31] ChatGPT: import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, updateProfile } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";
  import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyB_25LK7m2SXg4xAyaMXV18uU4b5-JPEHw",
    authDomain: "architext-9efb6.firebaseapp.com",
    projectId: "architext-9efb6",
    storageBucket: "architext-9efb6.firebasestorage.app",
    messagingSenderId: "70580255187",
    appId: "1:70580255187:web:ee3591d6d3c2f52b491726"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  // Sign Up
  const signupForm = document.getElementById('signup-form');
  const signupMessage = document.getElementById('signup-message');

  signupForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    signupMessage.textContent = '';
    const email = document.getElementById('signup-email').value;
    const password = document.getElementById('signup-password').value;
    const language = document.getElementById('signup-language').value;

    try {
 const userCredential = await createUserWithEmailAndPassword(auth, email, password);
      const user = userCredential.user;

      // Save user language in Firestore
      await setDoc(doc(db, "users", user.uid), { language: language });

      signupMessage.style.color = 'green';
      signupMessage.textContent = "Inscription réussie! Vous pouvez maintenant vous connecter.";
      signupForm.reset();
    } catch (error) {
      signupMessage.style.color = 'red';
      signupMessage.textContent = `Erreur : error.message`;
    );

  // Login
  const loginForm = document.getElementById('login-form');
  const loginMessage = document.getElementById('login-message');

  loginForm.addEventListener('submit', async (e) => 
    e.preventDefault();
    loginMessage.textContent = ”;
    const email = document.getElementById('login-email').value;
    const password = document.getElementById('login-password').value;

    try 
      await signInWithEmailAndPassword(auth, email, password);
      loginMessage.textContent = ”;
      loginForm.reset();
     catch (error) 
      loginMessage.style.color = 'red';
      loginMessage.textContent = `Erreur :{error.message}`;
    }
  });

  // Logout
  const logoutBtn = document.getElementById('logout-btn');
 logoutBtn.addEventListener('click', () => {
    signOut(auth);
  });

  // Auth state listener
  const userStatusSection = document.getElementById('user-status');
  const userEmailSpan = document.getElementById('user-email');
  const userLanguageSpan = document.getElementById('user-language');

  onAuthStateChanged(auth, async (user) => {
    if (user) {
      // Fetch language from Firestore
      const userDoc = await getDoc(doc(db, "users", user.uid));
      const userData = userDoc.exists() ? userDoc.data() : {};
      userEmailSpan.textContent = user.email;
      userLanguageSpan.textContent = userData.language || "Non spécifiée";

      userStatusSection.style.display = 'block';
      signupForm.style.display = 'none';
      loginForm.style.display = 'none';
      signupMessage.textContent = '';
      loginMessage.textContent = '';
    } else {
      userStatusSection.style.display = 'none';
      signupForm.style.display = 'block';
      loginForm.style.display = 'block';
    }
  });
</script>
</body>
</html>
